<!doctype html>
<html ng-app="app">
<head>
    <!-- Full Calendar -->
    <link rel='stylesheet' href='fullcalendar-2.6.1/fullcalendar.css' />
    <script src='fullcalendar-2.6.1/lib/jquery.min.js'></script>
    <script src='fullcalendar-2.6.1/lib/moment.min.js'></script>
    <script src='fullcalendar-2.6.1/fullcalendar.js'></script>
    <!-- Angular and Bootstrap -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.1.js"></script>
    <script src="javascripts/angularApp.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    
        <!-- New Calendar -->
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
         <script src="codebase/dhtmlxscheduler.js" type="text/javascript" charset="utf-8"></script>
     <link rel="stylesheet" href="codebase/dhtmlxscheduler.css" type="text/css" media="screen" title="no title" charset="utf-8">
     <style type="text/css" media="screen">
         html, body{
             margin:0px;
             padding:0px;
             height:100%;
             overflow:hidden;
         }   
     </style>
    
    
</head>
    
<script type="text/javascript" charset="utf-8">
     function init() {
         scheduler.init('scheduler_here',new Date(2013,8,4),"month");
     }
</script>
    
<body onload='init();'>
<employer></employer> <!-- includes employer navbar -->
    <div class="col-sm-offset-1 col-sm-10">
        <h2>Shift Manager</h2>
        <br>
    </div>
    
    <span ng-repeat='event in events'>{{event}}<br></span><br>
    <div id='scopeTest' ng-controller="ModalDemoCtrl"></div>
    
<!--    <div class='col-sm-offset-1 col-sm-10' id='java-calendar'></div>-->
<!--    <div class="clearfix"></div>-->
    
     <div id="scheduler_here" class="dhx_cal_container col-sm-offset-1 col-sm-10">
         <div class="dhx_cal_navline">
             <div class="dhx_cal_prev_button">&nbsp;</div>
             <div class="dhx_cal_next_button">&nbsp;</div>
             <div class="dhx_cal_today_button"></div>
             <div class="dhx_cal_date"></div>
             <div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>
             <div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>
             <div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>
         </div>
         <div class="dhx_cal_header">
         </div>
         <div class="dhx_cal_data">
         </div>
     </div>
    
    
    <script>
        $(document).ready(function() {
            $('#java-calendar').fullCalendar({
                
                customButtons: {
                    weekendButton: {
                        text: 'weekends',
                        click: function() {
                        }
                    }
                },
                
                header: {
                    left: 'title',
                    center: '',
                    right: 'today month,agendaWeek,agendaDay prev,next',
                },
                
                defaultView: 'agendaWeek',
                height: 700,
                weekends: true, // will hide Saturdays and Sundays
                
                businessHours: {
                    start: '8:00' // a start time (10am in this example)
                },
                
                dayClick: function(date, jsEvent, view) {
                    var scope = angular.element(document.getElementById('scopeTest')).scope();
                    scope.$apply(function () {scope.open('lg', date, jsEvent, view, $('#java-calendar'), false); });
                },
                
                eventClick: function(calEvent, jsEvent, view) {
//                    console.log(calEvent.start._d);
//                    var dates = {start:calEvent.start._d, end:calEvent.end._d};
                    var scope = angular.element(document.getElementById('scopeTest')).scope();
                    scope.$apply(function () {scope.edit('lg', calEvent, jsEvent, view, $('#java-calendar'), true); });
                },
                
                editable: true,
                draggable: true,
                
                buttonIcons: {
                    prev: 'left-single-arrow',
                    next: 'right-single-arrow'
                },
                
                timezone: 'America/Denver',
                
                events: [
                    {
                        title  : 'event1',
                        start  : '2016-03-26T12:30:00',
                        end    : '2016-03-26T13:00:00'
                    }
                ]
                
            });
            
        });
    </script>
</body>
</html>